<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Parmeshwar Cab</title>
    <!-- Link to the external CSS file -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Main container for the content -->
    <div class="container">
        <h2>Parmeshwar Cab Admin</h2> <!-- Title with yellow background -->
        <br></br>
        
        <!-- Button to navigate to the admin panel for adding route and pricing -->
        <a href="admin-panel.html">
            <button id="addButton">Add Route & Pricing</button>
        </a>
        
        <!-- List of routes with pricing for different vehicle types and action -->
        <div class="route-table-container">
            <table>
                <thead>
                    <tr>
                        <th rowspan="2">Route</th> <!-- Applying rowspan to Route column -->
                        <th colspan="4" class="price-header">Price</th> <!-- Merged header for Price columns -->
                        <th rowspan="2">Action</th> <!-- Applying rowspan to Action column -->
                    </tr>                    
                    <tr>
                        <th>Hatchback</th>
                        <th>Sedan</th>
                        <th>MUV</th>
                        <th>SUV</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Example data rows. You can dynamically populate this data with server-side code -->
                    <tr>
                        <td>Route 1</td>
                        <td>Rs. 2500</td>
                        <td>Rs. 3000</td>
                        <td>Rs. 4000</td>
                        <td>Rs. 5000</td>
                        <td>
                            <button class="action-btn edit-btn">Edit</button>
                            <button class="action-btn delete-btn">Delete</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Route 2</td>
                        <td>Rs. 2800</td>
                        <td>Rs. 3500</td>
                        <td>Rs. 4500</td>
                        <td>Rs. 6000</td>
                        <td>
                            <button class="action-btn edit-btn">Edit</button>
                            <button class="action-btn delete-btn">Delete</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Route 3</td>
                        <td>Rs. 2200</td>
                        <td>Rs. 2800</td>
                        <td>Rs. 3500</td>
                        <td>Rs. 5500</td>
                        <td>
                            <button class="action-btn edit-btn">Edit</button>
                            <button class="action-btn delete-btn">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Example: Handle Delete Button Click
        document.querySelectorAll('.delete-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const row = e.target.closest('tr');
                row.remove(); // This will remove the row from the table
                alert('Route deleted successfully.');
            });
        });

        // Example: Handle Edit Button Click
        document.querySelectorAll('.edit-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                const routeName = e.target.closest('tr').children[0].textContent;
                const prices = Array.from(e.target.closest('tr').children).slice(1, 5).map(td => td.textContent);
                
                // Prompt the user to edit details (for demonstration purposes)
                let updatedRouteName = prompt('Edit Route Name', routeName);
                let updatedPrices = prices.map((price, index) => {
                    return prompt(`Edit price for ${['Hatchback', 'Sedan', 'MUV', 'SUV'][index]}`, price);
                });

                // If updated details are entered, update the table
                if (updatedRouteName && updatedPrices.every(price => price !== null)) {
                    e.target.closest('tr').children[0].textContent = updatedRouteName;
                    updatedPrices.forEach((price, index) => {
                        e.target.closest('tr').children[index + 1].textContent = price;
                    });
                    alert('Route updated successfully.');
                }
            });
        });
    </script>
</body>
</html>
